class Bonus{constructor(i){this.pos=new vec(13,20),this.type=Math.min(i,7),this.exists=!1,this.timesCollected=0,this.animationTimer=60*random(9.7,9.9),this.pointsOnCollect=[100,300,500,700,1e3,2e3,3e3,5e3][this.type],this.requiredPellets=[70,170,1/0],this.displayNum=!1,this.update=()=>{this.exists?(this.animationTimer--,this.animationTimer<=0?(this.exists=!1,this.timesCollected++,this.animationTimer=60*random(9.7,9.9)):player.pos.equals(this.pos)&&(player.points+=this.pointsOnCollect,this.exists=!1,this.timesCollected++,this.animationTimer=60*random(9.7,9.9),this.displayNum=!0,SFX.GetUnusedSource().play("./audio/fruit.wav",()=>{this.displayNum=!1}))):player.pelletsEaten>=this.requiredPellets[this.timesCollected]&&(this.exists=!0)},this.render=()=>{this.displayNum?ctx.drawImage(spritesheet,270,110+8*this.type,20,7,8*this.pos.x,8*this.pos.y,20,7):this.exists&&ctx.drawImage(spritesheet,97+-(16*Math.min(this.type,6)),271+16*Math.min(this.type,6),14,14,8*this.pos.x+2,8*this.pos.y-4,14,14)}}}