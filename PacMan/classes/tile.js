function getTile(t,i){return t<0||i<0||t>w/8-1||i>h/8-1?null:grid[i*map[0].length+t]}class Tile{constructor(t,i,s,n,e){this._insX=8*~~t,this._insY=8*~~i,this._tx=8*s+(s+1),this._ty=8*n+(n+1),this.type=e,this.render=t=>{(47!=this.type||t>30)&&51!=this.type&&ctx.drawImage(spritesheet,this._tx+(player.won&&player.animationTimer%30>15&&player.animationTimer<90?144:0),this._ty,8,8,this._insX,this._insY,8,8)},this.changeTile=(t,i)=>{this._tx=8*t+(t+1),this._ty=8*i+(i+1),this.type=16*i+t},grid.push(this)}}